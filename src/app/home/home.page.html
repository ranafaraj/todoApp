<ion-content [fullscreen]="true">
  <h1>My Todos  </h1>
  <h2 id="todayDate">{{ currentDay }}, {{ currentDate }}</h2>
  <ion-list *ngFor="let item of todoList">
    <ion-card [style.background-color]="item.value.Colour">
      <div class="container" (click)="presentModal(item)">
        <div class="icon-button">
          <ion-icon [name]="item.value.Icon" size="large"></ion-icon>
        </div>

        <div class="detail">
          <p>
            {{convertDateTimeToTime(item.value.startTime)}} -
            {{convertDateTimeToTime(item.value.endTime)}}
            ({{calculateTimeDifference(item.value.startTime,
            item.value.endTime)}})
          </p>
          <h2>{{item.value.Title}}</h2>
          <p>{{item.value.Description}}</p>
          <div *ngIf="item.value.Priority === 'High'" class="Priority">
            <ion-chip>
              <p><ion-icon name="flag" color="danger"></ion-icon>  High Priority</p>
            </ion-chip>
          </div>
          <div *ngIf="item.value.Priority === 'Medium'" class="Priority">
            <ion-chip>
              <p><ion-icon name="flag" color="warning"></ion-icon>  Moderate Priority</p>
            </ion-chip>
          </div>
          <div *ngIf="item.value.Priority === 'Low'" class="Priority">
            <ion-chip>
              <p><ion-icon name="flag" color="tertiary"> </ion-icon>  Low Priority</p>
            </ion-chip>
          </div>
          <div *ngIf="item.value.Priority === ''" class="Priority">
            <ion-chip>
              <p> No Priority</p>
            </ion-chip>
          </div>
        </div>
        <div class="circle-box">
          <div class="circle" *ngIf="item.value.TaskStatus === ''"></div>
          <div *ngIf="item.value.TaskStatus === 'Complete'">
            <ion-icon name='checkmark-circle' color="success"></ion-icon>
          </div>
          <div *ngIf="item.value.TaskStatus === 'InComplete'">
            <ion-icon name='close-circle' color="danger"></ion-icon>
          </div>
        </div>
      </div>
    </ion-card>
  </ion-list>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addTodo()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
